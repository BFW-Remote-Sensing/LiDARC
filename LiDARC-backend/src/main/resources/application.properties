spring.application.name=LiDARC-backend
spring.profiles.active=dev
springdoc.api-docs.path=/api-docs
server.servlet.contextPath=/
server.port=8080
#endpoint name needs to be changed depending on whether its dev or running it in a container
#dev http://localhost:9000 container: http://minio:9000 -- use an env file, default works for containers
minio.endpoint=${MINIO_ENDPOINT:minio}
minio.port=${MINIO_PORT:9000}
minio.username=${MINIO_USERNAME:admin}
minio.password=${MINIO_PASSWORD:aseWS25LiDARC}
minio.bucket=${MINIO_BUCKET:basebucket}
minio.baseObject=graz2021_block6_060_065_elv.laz
minio.baseObjectPath=src/main/resources/graz2021_block6_060_065_elv.laz
minio.defaultExpiryTime=${MINIO_DEFAULT_EXPIRY:100000}
minio.defaultRefresh=${MINIO_DEFAULT_REFRESH:50000}
minio.image=${MINIO_IMAGE_PATH:quay.io/minio/minio:latest}
minio.secure=${MINIO_SECURE:false}
#postgres config
postgres.image=${POSTGRES_IMAGE:registry.reset.inso-w.at/pub/docker/postgres:18-alpine}
spring.datasource.url=jdbc:postgresql://${POSTGRES_HOST:postgres}:${POSTGRES_PORT:5432}/${POSTGRES_DB:lidarc_db}
spring.datasource.username=${POSTGRES_USER:admin}
spring.datasource.password=${POSTGRES_PASSWORD:admin}
spring.datasource.driver-class-name=org.postgresql.Driver
#rabbitmq
#spring.rabbitmq.host=${RABBIT_MQ_HOST:localhost}
#spring.rabbitmq.port=${RABBIT_MQ_PORT:5672}
#spring.rabbitmq.username=${RABBIT_MQ_USERNAME:admin}
#spring.rabbitmq.password=${RABBIT_MQ_PASSWORD:admin}
#spring.rabbitmq.listener.simple.acknowledge-mode=auto
#spring.rabbitmq.template.retry.enabled=true
#spring.rabbitmq.template.retry.initial-interval=1000
#spring.rabbitmq.template.retry.max-attempts=3
#spring.rabbitmq.template.exchange=${RABBIT_MQ_BASEEXCHANGE:worker-results}
#spring.rabbitmq.template.routing-key=metadata_trigger
#spring.rabbitmq.template.default-receive-queue=metadata_trigger
# --- Spring RabbitMQ config ---
spring.rabbitmq.host=${RABBITMQ_HOST:localhost}
spring.rabbitmq.port=5672
spring.rabbitmq.username=${RABBITMQ_DEFAULT_USER:admin}
spring.rabbitmq.password=${RABBITMQ_DEFAULT_PASS:admin}
spring.rabbitmq.listener.simple.missing-queues-fatal=false
spring.rabbitmq.template.mandatory=false
spring.rabbitmq.virtual-host=/
# --- Spring File config ---
spring.servlet.multipart.max-file-size=5MB
# --- Upload Directory for Report
app.upload.dir=${APP_UPLOAD_DIR:./uploads}

# --- Redis config ---
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.timeout=60000
spring.data.redis.jedis.pool.max-active=20
spring.data.redis.jedis.pool.max-idle=10
spring.data.redis.jedis.pool.min-idle=5
spring.data.redis.jedis.pool.max-wait=-1ms
app.redis.chunking.ttl-minutes=${REDIS_CHUNKING_TTL_MINUTES:2}

# --- SSE Streaming config ---
# Chunk size in bytes for streaming large visualization results via SSE (default: 64KB)
app.sse.streaming.chunk-size-bytes=${SSE_STREAMING_CHUNK_SIZE:65536}

