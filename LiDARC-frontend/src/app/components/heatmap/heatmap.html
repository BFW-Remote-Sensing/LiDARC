<div class="zoom-info-box">
  <h4>Heatmap Navigation Guide</h4>
  <p>
    Use the <strong>zoom controls</strong> to explore specific regions of the heatmap in more detail.
  </p>
  <ul>
    <li><strong>Horizontal Zoom</strong>: Adjust the bottom slider to zoom in and out along the X-axis.</li>
    <li><strong>Vertical Zoom</strong>: Use the right slider to control the zoom level on the Y-axis.</li>
  </ul>
  <p>
    Both heatmaps are <strong>linked</strong> — any zoom or pan action automatically updates the other chart.
  </p>
  <p>This heatmap has: {{ this.rows }} rows * {{ this.cols }} cols</p>
</div>

<mat-button-toggle-group
  [value]="mode"
  (valueChange)="setMode($event)">
  <mat-button-toggle value="ABD">A + B + Δ</mat-button-toggle>
  <mat-button-toggle value="AB">A + B</mat-button-toggle>
  <mat-button-toggle value="D">Δ</mat-button-toggle>
</mat-button-toggle-group>

<span class="spacer"></span>

<button mat-stroked-button (click)="toggleVisualMap()">
  <mat-icon>{{ this.showVisualMap ? 'visibility' : 'visibility_off' }}</mat-icon>
  VisualMap
</button>

<button mat-stroked-button (click)="toggleZoom()">
  <mat-icon>{{ showZoom ? 'zoom_in' : 'zoom_out' }}</mat-icon>
  Zoom
</button>

<div class="grid" [ngClass]="displayedHeatmap">
  <div class="heatmap a" [class.hidden]="!showAB">
    <div class="title">Heatmap A</div>
    <div #chart1 class="chart"></div>
  </div>

  <div class="heatmap b" [class.hidden]="!showAB">
    <div class="title">Heatmap B</div>
    <div #chart2 class="chart"></div>
  </div>

  <div class="heatmap d" [class.hidden]="!showD">
    <div class="title">Δ (B − A)</div>
    <div #diffChart class="chart"></div>
  </div>
</div>


